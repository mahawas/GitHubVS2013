
<!DOCTYPE HTML>


<head> 
    <title>DD</title>   
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
</head>
    <body>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        because its MIME type ('application/json') is not executable, and    checking is enabled.

        <script language="Javascript">
            
            function myfunc(json) {
                alert(json);
            }
            $.ajax({
                url: 'http://kermit:kermit@localhost:8080/activiti-rest/service/runtime/tasks?includeTaskLocalVariables=true&includeProcessVariables=true',                
                type: 'GET',
                
                error: function (xhr, errorType, exception) {
                    var errorMessage = exception || xhr.statusText;
                    alert("Excep:: " + exception + "Status:: " + xhr.statusText);
                },
                crossDomain: true, // enable this
                dataType: 'jsonp',
                error: function (jqXHR, textStatus, errorThrown) { 
                    console.log(errorThrown); 
                    console.log(textStatus); 
                }                
            }); 
            /*$.ajax({
                type: 'GET',
                url: 'http://localhost:8080/activiti-rest/service/runtime/tasks?includeTaskLocalVariables=true&includeProcessVariables=true',
                dataType: 'jsonp',
                xhrFields: {
                    withCredentials: false
                },
                headers: {
                    "Accept": "application/json; charset=utf-8",
                    "Content-Type": "application/json; charset=utf-8",
                    "Access-Control-Allow-Origin": "*"
                },
                beforeSend: function (xhr) {
                    // set header
                    xhr.setRequestHeader("Authorization", "Basic " + btoa("kermit:kermit"));
                },
                success: function (result) {
                    console.log(result);
                },
                error: function (jqXHR, textStatus, errorThrown) { console.log(errorThrown); console.log(textStatus); }
            });
            */
            /*
            $.ajax({
                type: 'get',
                url: 'http://localhost:8080/activiti-rest/service/runtime/tasks?includeTaskLocalVariables=true&includeProcessVariables=true',
                dataType: 'jsonp',
                data: { 'userId': 'kermit', 'password': 'kermit' },
                contentType: 'application/json',
                cache: false,
                complete: function (xhr, ts) {
                    $('body').append(JSON.stringify(xhr));
                },
                success: function (xhr, ts) {
                    alert(JSON.stringify(xhr));
                }
            });
            */
            
            /*var xhr = new XMLHttpRequest();
            var url = "http://kermit:kermit@localhost:8080//activiti-explorer/diagram-viewer/index.html?processDefinitionId=Report_process:1:125711";
            xhr.open("GET", url, true);
            
            xhr.setRequestHeader("Access-Control-Allow-Origin", "*");
            xhr.setRequestHeader("Access-Control-Allow-Methods", "POST, GET, UPDATE, DELETE, OPTIONS");
            xhr.setRequestHeader("Access-Control-Allow-Headers", "content-type,x-http-method-override");
            //xhr.setRequestHeader("Authorization", "Basic " + btoa("kermit:kermit"));
            

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    //check for an error message contained in the REST response.
                    //If xhr.responseText is blank, update was successful.
                    alert("SUCCESS");
                }
                else {
                    alert("ERROR in RESPONSE: " + xhr.status + " , " + xhr.responseText);
                }
            }
            xhr.send(null);
            */
            /*

            var url = "http://127.0.0.1:63481/Api/Values?id=2"
            var xmlHttp = null;
            xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", url, false);
            xmlHttp.setRequestHeader("Access-Control-Allow-Origin", "*");
            xmlHttp.setRequestHeader("Access-Control-Allow-Headers", "X-Requested-With");
            xmlHttp.send( null );
            alert(xmlHttp.responseText);*/
        </script>
    </body>
